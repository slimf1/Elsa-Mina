@using ElsaMina.Core.Services.Templating
@using ElsaMina.Core.Templates.Styling
@inherits RazorLight.TemplatePage<ElsaMina.Core.Templates.RoomDashboard.RoomDashboardViewModel>

@{
    const string tableStyle = "border-collapse: collapse; width: 100%;";
    const string headerStyle = "border: 1px solid #68a;" +
                               "text-align: center;" +
                               "padding: 0px;" +
                               "height: 1px;" +
                               "text-align: center;" +
                               $"background-color: {StyleConstants.PRIMARY_BACKGROUND_COLOR};";
    const string cellStyle = "border: 1px solid #68a; text-align: center; padding: .25rem";
}

<form
    style="padding: 2rem;"
    data-submitsend="/w @Model.BotName,@(Model.Trigger)rc @Model.RoomParameters.Id,{locale},{errors},{autocorrect}">
    <table style="@tableStyle">
        <thead>
        <tr style="@headerStyle">
            <th colspan="3">
                <h1>@I18N.S(Model.Culture, "room_dashboard", Model.RoomName)</h1>
            </th>
        </tr>
        </thead>
        
        <tbody>
        <!-- locale -->
        <tr>
            <td style="@cellStyle">
                <label for="locale">
                    @I18N.S(Model.Culture, "dashboard_locale_name")
                </label>
            </td>
            <td style="@cellStyle">
                @{ await IncludeAsync("LanguageSelect/LanguagesSelect", Model.LanguageSelectModel); }
            </td>
            <td style="@cellStyle">
                @I18N.S(Model.Culture, "dashboard_locale_description")
            </td>
        </tr>
        
        <!-- errors -->
        <tr>
            <td style="@cellStyle">
                <label for="errors">
                    @I18N.S(Model.Culture, "dashboard_errors_name")
                </label>
            </td>
            <td style="@cellStyle">
                <input
                    type="checkbox"
                    id="errors"
                    name="errors"
                    @(Model.RoomParameters.IsShowingErrorMessages ?? false ? "checked" : "")/>
            </td>
            <td style="@cellStyle">
                @I18N.S(Model.Culture, "dashboard_errors_description")
            </td>
        </tr>
        
        <tr>
            <td style="@cellStyle">
                <label for="autocorrect">
                    @I18N.S(Model.Culture, "dashboard_autocorrect_name")
                </label>
            </td>
            <td style="@cellStyle">
                <input
                    type="checkbox"
                    id="autocorrect"
                    name="autocorrect"
                    @(Model.RoomParameters.IsCommandAutocorrectEnabled ?? false ? "checked" : "")/>
            </td>
            <td style="@cellStyle">
                @I18N.S(Model.Culture, "dashboard_autocorrect_description")
            </td>
        </tr>
        </tbody>
    </table>
    
    <br /><br />
    <button
        class="button"
        type="submit">
        @I18N.S(Model.Culture, "submit")
    </button>
</form>